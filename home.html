<!DOCTYPE html>  
<html lang="en">    
<head>    
<meta charset="UTF-8">    
<meta name="viewport" content="width=device-width, initial-scale=1.0">    
<title>High Stars Aimers - Home</title>    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">    
<style>    
/* MODERN COLOR PALETTE */
:root {    
    --primary-color: #1A73E8; /* Deep Blue - Google/Modern Tech Vibe */
    --secondary-color: #00B4D8; /* Bright Cyan Accent */
    --accent-color: #EA4335; /* Soft Red for Action/Error (Google Red) */
    --background-dark: #F7F9FC; /* Very light, clean background */
    --card-background: #ffffff; /* Pure white cards */
    --text-dark: #202124; /* Darker text for readability (Google Dark Grey) */
    --text-light: #5F6368; /* Light grey text for secondary info */
    --border-color: #DADCE0; /* Light border/divider */
    --hover-color: #E8F0FE; /* Subtle hover effect (Light Blue) */
    --box-shadow-light: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
    --box-shadow-deep: 0 4px 12px rgba(0, 0, 0, 0.1);
}
/* BASE STYLES */
html, body {  
margin: 0; padding: 0;  
font-family: 'Roboto', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Added Roboto/Modern Font Stack */
background-color: var(--background-dark);  
color: var(--text-dark); /* Use dark text color */
line-height: 1.6;
/* Ensure the body is min-height 100vh to utilize screen space for scroll fix */
min-height: 100vh;
}  
* { box-sizing: border-box; }
h1,h2,h3,h4 { margin-bottom: 15px; color: var(--text-dark); font-weight: 500;} /* Better heading weight */
a { text-decoration: none; color: inherit; }

/* FIX: Ensure main uses full available space for better scrolling experience */
main { 
    display: flex; 
    min-height: calc(100vh - 70px - 100px); /* Adjusted to ensure main is tall enough before footer */
}

/* HEADER */
.header {
display: flex; align-items: center;
padding: 10px 40px; /* Increased padding */
background: var(--primary-color); /* Solid Primary Color */
color: #fff; 
font-size: 1.8rem; /* Slightly larger */
font-weight: 700; /* Bolder logo text */
height: 70px; 
position: sticky; top: 0; z-index: 1000;
box-shadow: var(--box-shadow-deep); /* Deeper shadow for header */
}

/* SIDEBAR */
.sidebar {
width: 320px; /* Slightly wider */
background-color: var(--card-background);
padding: 30px; /* Increased padding */
border-right: none; /* Removed hard border */
display: flex; flex-direction: column; gap: 25px;
/* Keep sidebar sticky for a modern feel */
position: sticky; top: 70px; 
height: fit-content; 
border-radius: 0 15px 15px 0;
box-shadow: var(--box-shadow-light); /* Lighter shadow */
}
.user-profile {
text-align: center; 
margin-bottom: 10px; /* Reduced bottom margin */
padding-bottom: 20px; 
border-bottom: 1px solid var(--border-color);
}
.user-profile img {
width: 110px; height: 110px; /* Slightly larger image */
border-radius: 50%;
border: 4px solid var(--secondary-color); /* Thicker accent border */
object-fit: cover; transition: all 0.3s ease;
cursor: pointer;
box-shadow: 0 0 0 3px rgba(0, 180, 216, 0.3); /* Subtle outer glow/ring */
}
.user-profile img:hover { transform: scale(1.05); opacity: 0.9; }
.user-profile h3 { 
    margin-top: 15px; 
    font-size: 1.6rem; 
    color: var(--text-dark); 
    font-weight: 600;
}
.user-profile p { 
    color: var(--text-light); 
    font-size: 0.9rem; 
    margin-top: 5px;
}

/* Profile Buttons Container */
.profile-actions {
display: flex;
gap: 15px; /* Increased gap */
}
.profile-actions button {
flex-grow: 1;
padding: 12px;
font-weight: 600;
border: none;
border-radius: 10px; /* Softer rounded corners */
cursor: pointer;
transition: background-color 0.3s, transform 0.1s;
display: flex;
align-items: center;
justify-content: center;
gap: 8px;
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* View Profile Button */
#viewProfileButton {
background-color: var(--primary-color);
color: white;
}
#viewProfileButton:hover {
background-color: #1660cc; /* Slightly darker primary on hover */
transform: translateY(-1px);
box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
}

/* Sign Out Button */
#signOutButton {
background-color: var(--accent-color);
color: white;
box-shadow: 0 2px 5px rgba(234, 67, 53, 0.4);
}
#signOutButton:hover {
background-color: #d13a2e; /* Slightly darker accent on hover */
transform: translateY(-1px);
box-shadow: 0 3px 6px rgba(234, 67, 53, 0.6);
}

/* Profile Details Section */
#profileDetails {
display: none;
text-align: left;
background: var(--hover-color); /* Use light blue tint */
border-radius: 12px;
padding: 20px;
border: 1px solid #c2e7ff; /* Lighter border */
box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.05); /* Subtle inner shadow */
}
#profileDetails h4 {
color: var(--primary-color);
margin-bottom: 10px;
border-bottom: 1px solid var(--border-color);
padding-bottom: 5px;
font-weight: 600;
}
#profileDetails p {
margin: 8px 0; /* More vertical space */
font-size: 0.95rem;
color: var(--text-dark);
}
#profileDetails span {
font-weight: 500;
color: var(--primary-color);
}

/* Status Message Area */
#uploadStatus {
margin-top: 10px;
font-size: 0.9rem;
color: var(--primary-color);
font-style: italic;
}

.sidebar-section {
background: var(--card-background);
border-radius: 12px; 
padding: 20px; 
text-align: center;
border: 1px solid var(--border-color);
box-shadow: var(--box-shadow-light);
}
.sidebar-section h4 {
    color: var(--secondary-color);
}

#today-tip-text {
    font-style: italic;
    color: var(--text-dark); /* Darker text for readability */
    font-weight: 500;
    transition: opacity 0.5s ease-in-out; /* Smooth fade effect */
    min-height: 40px; /* Prevents layout shift during rotation */
    display: block; /* Ensure transition applies properly */
}


/* MAIN CONTENT */
.content-area {
flex-grow: 1; 
padding: 40px; /* Increased padding */
display: flex; 
flex-direction: column; 
gap: 30px; /* Increased gap */
max-width: 1200px; /* Wider content area */
margin: 0 auto;
/* FIX: Allow content area to scroll independently if needed */
overflow-y: auto; 
}
.announcement-banner {
padding: 20px; /* More padding */
background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); /* Better gradient angle */
color: #fff; 
text-align: center; 
font-weight: 600;
font-size: 1.1rem;
border-radius: 12px;
box-shadow: 0 6px 15px rgba(0,0,0,0.2); /* Stronger shadow for emphasis */
}

/* RESOURCE CARDS */
h2 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 10px;
}
.resource-card {
background: var(--card-background);
border-radius: 12px; /* Smoother corners */
padding: 30px; /* Increased padding */
border: 1px solid var(--border-color);
display: flex; 
flex-direction: column; 
gap: 10px;
transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); /* Modern transition curve */
cursor: pointer; 
text-align: left; /* Aligned left for professionalism */
box-shadow: var(--box-shadow-light);
}
.resource-card:hover {
transform: translateY(-4px); /* Smaller lift */
box-shadow: var(--box-shadow-deep); /* Stronger shadow on hover */
background: var(--hover-color);
border-color: var(--primary-color); /* Primary color accent on hover */
}
.resource-card h4 { 
    margin: 0; 
    font-size: 1.4rem; 
    color: var(--primary-color); 
    font-weight: 600;
    display: flex; /* Align icon and text */
    align-items: center;
    gap: 12px;
}
.resource-card h4 i {
    color: var(--secondary-color);
    font-size: 1.6rem;
}
.resource-card p { 
    color: var(--text-light); 
    font-size: 1rem; 
    margin-top: 5px;
}

/* FOOTER */
.footer {
padding: 30px;
background-color: var(--card-background);
text-align: center;
border-top: none; /* Removed hard border */
color: var(--text-light);
border-radius: 15px 15px 0 0;
box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
}
.social-icons a {
margin: 0 15px; /* Increased spacing */
font-size: 24px; /* Slightly larger icons */
color: var(--primary-color); /* Changed to primary color */
transition: transform 0.3s, color 0.3s;
}
.social-icons a:hover {
transform: scale(1.15); 
color: var(--accent-color); /* Accent color on hover */
}
.footer-links {
    margin: 15px 0;
    font-size: 0.95rem;
}
.footer-links a {
    color: var(--text-light);
    transition: color 0.3s;
}
.footer-links a:hover {
    color: var(--primary-color);
    text-decoration: underline;
}
.footer p {
    font-size: 0.85rem;
    margin-top: 10px;
}

/* RESPONSIVENESS */
@media (max-width: 1000px) {
main { flex-direction: column; }
.sidebar {
width: 100%; 
border-right: none;
border-bottom: 1px solid var(--border-color);
border-radius: 0; 
padding: 20px; 
position: static;
}
.content-area {
    padding: 20px;
}
}

/* --- MODAL STYLES --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000; /* Ensure it's above everything */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background: var(--card-background);
    padding: 30px;
    border-radius: 15px;
    width: 90%;
    max-width: 500px;
    text-align: center;
    box-shadow: var(--box-shadow-deep);
    transform: scale(0.95);
    transition: transform 0.3s ease;
}

.modal-overlay.active .modal-content {
    transform: scale(1);
}

.modal-content h3 {
    color: var(--accent-color);
    font-size: 1.8rem;
    margin-bottom: 15px;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 10px;
}

.modal-content p {
    color: var(--text-dark);
    font-size: 1.1rem;
    margin-bottom: 20px;
}

.modal-content .tip-box {
    background-color: var(--hover-color);
    padding: 15px;
    border-left: 5px solid var(--secondary-color);
    border-radius: 8px;
    margin-top: 15px;
    font-style: italic;
    font-size: 0.95rem;
    text-align: left;
}
.modal-content .tip-box strong {
    color: var(--primary-color);
    font-weight: 600;
}

.modal-close-btn {
    background-color: var(--primary-color);
    color: white;
    padding: 10px 25px;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s;
    margin-top: 20px;
}
.modal-close-btn:hover {
    background-color: #1660cc;
}
</style>

</head>  
<body>  

<div id="developmentModal" class="modal-overlay">
    <div class="modal-content">
        <i class="fas fa-tools" style="font-size: 2.5rem; color: var(--accent-color); margin-bottom: 10px;"></i>
        <h3>üõ†Ô∏è Features Under Active Development</h3>
        <p>
            Welcome to High Stars Aimers! As a valued early user, please note that this platform is currently in **active development**. While the core **Login** and **Profile Management** features are functional, some areas like **Quiz Master** and **Study Timer** are being continuously built and tested.
        </p>
        <p style="font-size: 1rem; color: var(--text-dark); font-weight: 500;">
            You may encounter temporary bugs or changes. If you spot an issue, please help us by using the **Report a Bug** card below! Your feedback accelerates development.
        </p>
        <div class="tip-box">
            <i class="fas fa-brain" style="color: var(--secondary-color);"></i> 
            &nbsp;<strong>Did you know?</strong> 
            The human brain consumes about **20% of the body's total oxygen and calories**, despite making up only 2% of body mass. Your concentration requires a lot of energy‚Äîremember to take short breaks and stay hydrated!
        </div>
        <button id="closeModalBtn" class="modal-close-btn">
            Got it! Start Exploring
        </button>
    </div>
</div>
<div class="header">High Stars Aimers</div>  
<main>    
  <aside class="sidebar">    
    <div class="user-profile">    
      <img id="userProfilePic" src="https://via.placeholder.com/100/00b4d8/FFFFFF?text=P" alt="Profile Picture">    
      <input type="file" id="imageUpload" accept="image/*" style="display: none;">  
      <h3 id="welcomeMessage">Loading...</h3>    
      <p id="userEmail">Loading email...</p>    
      <div id="uploadStatus">Click image to upload photo</div>    
    </div>    
    <div class="profile-actions">    
        <button id="viewProfileButton">    
            <i class="fas fa-user-circle"></i> View Profile    
        </button>    
        <button id="signOutButton">    
            <i class="fas fa-sign-out-alt"></i> Sign Out    
        </button>    
    </div>    
    <div id="profileDetails">    
        <h4>User Profile Details</h4>    
        <p><span>Username:</span> <span id="profileUsername"></span></p>    
        <p><span>Email:</span> <span id="profileEmail"></span></p>    
        <p><span>Account Status:</span> <span id="profileStatus"></span></p>    
        <p><span>Registration Date:</span> <span id="profileRegDate"></span></p>    
        <p><span>Last Login:</span> <span id="profileLastLogin"></span></p>    
    </div>    
    <div class="sidebar-section">    
      <h4>Today's Tip üí°</h4>    
      <p id="today-tip-text">Loading tips...</p>    
    </div>    
  </aside>    
  <div class="content-area">    
    <div class="announcement-banner">    
      <i class="fas fa-bullhorn"></i> New updates are here! Check out the latest past papers.    
    </div>  
    <h2>Browse Resources</h2>    
    <a href="subjects.html">    
      <div class="resource-card">    
        <h4><i class="fas fa-book"></i> Browse by Subject</h4>    
        <p>Explore all subjects including Mathematics, Physics, Chemistry, Biology, and more.</p>    
      </div>    
    </a>    
    <a href="papers.html">    
      <div class="resource-card">    
        <h4><i class="fas fa-file-alt"></i> Browse by Paper</h4>    
        <p>View all available past papers organized by subject and year.</p>    
      </div>    
    </a>       
    <div class="resource-card">    
      <h4><i class="fas fa-question-circle"></i> Quiz Master</h4>    
      <p>Test your knowledge with interactive quizzes on various topics.</p>    
    </div>    
    <div class="resource-card">    
      <h4><i class="fas fa-stopwatch"></i> Study Timer</h4>    
      <p>Use the Pomodoro timer to manage your study sessions effectively.</p>    
    </div>   
    <a href="contact.html">    
      <div class="resource-card">    
        <h4><i class="fas fa-comments"></i> Ask a Question</h4>    
        <p>Get answers from the community or instructors on your study queries.</p>    
      </div>   
    </a>  
    <a href="contact.html">  <div class="resource-card">    
        <h4><i class="fas fa-bug"></i> Report a Bug</h4>    
        <p>Help us improve by reporting any issues or bugs you find.</p>    
      </div>    
    </a> 
  </div>    
</main>  
<footer class="footer">    
  <div class="social-icons">    
    <a href="https://www.facebook.com/profile.php?id=61579327734565"><i class="fab fa-facebook"></i></a>    
    <a href="https://www.instagram.com/b.boni.mbugua?igsh=MTJ2Nm13OXl2ajd6dw=="><i class="fab fa-instagram"></i></a>    
    <a href="https://x.com/mbugua_bon60636?s=09"><i class="fab fa-twitter"></i></a>    
    <a href="https://www.youtube.com/@BoniMbugua"><i class="fab fa-youtube"></i></a>    
    <a href="https://tiktok.com/@bonimbugua346"><i class="fab fa-tiktok"></i></a>    
    <a href="https://wa.me/254762187843"><i class="fab fa-whatsapp"></i></a>    
  </div>    
  <div class="footer-links">    
    <a href="#">About Us</a> | <a href="#">FAQs</a> | <a href="#">Terms & Conditions</a>    
  </div>    
  <p>&copy; 2025 High Stars Aimers. All Rights Reserved.</p>    
</footer>  
<script type="module">    
    // --- Firebase Modular Imports (v9+) ---    
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";    
    import {     
        getAuth,     
        onAuthStateChanged,     
        signOut,    
        updateProfile // NEW: for updating photoURL    
    } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";    
    import {    
        getStorage,     
        ref,     
        uploadBytes,     
        getDownloadURL // NEW: for file storage    
    } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-storage.js";    
    
// --- YOUR FIREBASE CONFIGURATION (The one you provided) ---    
const firebaseConfig = {    
  apiKey: "AIzaSyDhJD5Ux22U393z6RqT4Nv570jqoNrg7Xc",    
  authDomain: "high-stars-aimers-5972f.firebaseapp.com",    
  projectId: "high-stars-aimers-5972f",    
  storageBucket: "high-stars-aimers-5972f.appspot.com", 
  messagingSenderId: "233345875942",    
  appId: "1:233345875942:web:0b21df2fd59b744d2ce027",    
  measurementId: "G-JEV6M3EP1D"    
};    

// --- Initialization ---    
const app = initializeApp(firebaseConfig);    
const auth = getAuth(app);     
const storage = getStorage(app); // Initialize Storage    
    
// --- DOM Elements ---    
const welcomeMessage = document.getElementById('welcomeMessage');    
const userEmailElement = document.getElementById('userEmail');    
const userProfilePic = document.getElementById('userProfilePic');    
const imageUpload = document.getElementById('imageUpload');    
const uploadStatus = document.getElementById('uploadStatus');    
const signOutButton = document.getElementById('signOutButton');    
const viewProfileButton = document.getElementById('viewProfileButton');    
const profileDetails = document.getElementById('profileDetails');    
const todayTipText = document.getElementById('today-tip-text'); 
// MODAL ELEMENTS
const developmentModal = document.getElementById('developmentModal');
const closeModalBtn = document.getElementById('closeModalBtn');
    
// Profile Detail Elements    
const profileUsername = document.getElementById('profileUsername');    
const profileEmail = document.getElementById('profileEmail');    
const profileStatus = document.getElementById('profileStatus');    
const profileRegDate = document.getElementById('profileRegDate');    
const profileLastLogin = document.getElementById('profileLastLogin');    

// Default Profile Image URL (if no photoURL is set)    
const DEFAULT_PIC = 'https://via.placeholder.com/100/00b4d8/FFFFFF?text=P';    

// --- Rotating Tip Data ---
const studyTips = [
    "üìå Break down large tasks into smaller, manageable chunks (chunking technique).",
    "‚òï Practice the Pomodoro Technique: 25 minutes of focused work followed by a 5-minute break.",
    "üß† Review material right before you go to sleep to maximize memory consolidation.",
    "üí° Test yourself frequently with practice papers instead of just rereading notes.",
    "üíß Stay hydrated! Even mild dehydration can negatively affect your concentration.",
    "ü•¶ Eat a 'brain food' snack like nuts or berries before a heavy study session.",
];
let currentTipIndex = 0;

// --- Function to Rotate Tips Attractively ---
function rotateStudyTip() {
    // 1. Fade out the current tip
    todayTipText.style.opacity = 0;

    // Wait for the fade-out to complete (500ms based on CSS transition)
    setTimeout(() => {
        // 2. Change the text content
        todayTipText.textContent = studyTips[currentTipIndex];
        
        // 3. Move to the next tip index
        currentTipIndex = (currentTipIndex + 1) % studyTips.length;
        
        // 4. Fade the new tip in
        todayTipText.style.opacity = 1;
    }, 500);
}


// 1. Authentication Status Listener (Auth Guard & Profile Display)    
onAuthStateChanged(auth, (user) => {    
    if (user) {    
        // Get user details    
        const email = user.email || "N/A";    
        const emailPart = email.substring(0, email.indexOf('@'));    
        const displayName = e